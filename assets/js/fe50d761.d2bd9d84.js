"use strict";(self.webpackChunkiota_wiki=self.webpackChunkiota_wiki||[]).push([[2504],{2237:function(e,t,a){a.r(t),a.d(t,{assets:function(){return o},contentTitle:function(){return u},default:function(){return g},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return m}});var n,l=a(87462),r=a(63366),i=(a(67294),a(3905)),d=["components"],s={description:"IOTA Client Library user-friendly API specifications.",image:"/img/logo/iota_mark_light.png",keywords:["definition","message","return","types","parameters","address","account","reference"]},u="High Level API Specification",p={unversionedId:"specs",id:"specs",title:"High Level API Specification",description:"IOTA Client Library user-friendly API specifications.",source:"@site/content/build/iota.rs/production/documentation/docs/specs.md",sourceDirName:".",slug:"/specs",permalink:"/iota.rs/specs",draft:!1,editUrl:"https://github.com/iotaledger/iota.rs/edit/production/documentation/content/build/iota.rs/production/documentation/docs/specs.md",tags:[],version:"current",frontMatter:{description:"IOTA Client Library user-friendly API specifications.",image:"/img/logo/iota_mark_light.png",keywords:["definition","message","return","types","parameters","address","account","reference"]},sidebar:"docs",previous:{title:"api_reference",permalink:"/iota.rs/libraries/wasm/api_reference"},next:{title:"Troubleshooting",permalink:"/iota.rs/troubleshooting"}},o={},m=[{value:"Introduction",id:"introduction",level:2},{value:"Builder",id:"builder",level:2},{value:"Parameters",id:"parameters",level:3},{value:"network",id:"network",level:4},{value:"node",id:"node",level:4},{value:"primary_node",id:"primary_node",level:4},{value:"primary_pow_node",id:"primary_pow_node",level:4},{value:"permanode",id:"permanode",level:4},{value:"node_auth",id:"node_auth",level:4},{value:"nodes",id:"nodes",level:4},{value:"node_sync_interval",id:"node_sync_interval",level:4},{value:"node_sync_disabled",id:"node_sync_disabled",level:4},{value:"node_pool_urls",id:"node_pool_urls",level:4},{value:"quorum",id:"quorum",level:4},{value:"quorum_size",id:"quorum_size",level:5},{value:"quorum_threshold",id:"quorum_threshold",level:4},{value:"request_timeout",id:"request_timeout",level:4},{value:"api_timeout",id:"api_timeout",level:4},{value:"local_pow",id:"local_pow",level:5},{value:"tips_interval",id:"tips_interval",level:4},{value:"mqtt_broker_options",id:"mqtt_broker_options",level:5},{value:"Return",id:"return",level:3},{value:"On Initialization",id:"on-initialization",level:2},{value:"Sync Process",id:"sync-process",level:2},{value:"General High Level API",id:"general-high-level-api",level:2},{value:"message()",id:"message",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"seed",id:"seed",level:5},{value:"account_index",id:"account_index",level:5},{value:"initial_address_index",id:"initial_address_index",level:5},{value:"input",id:"input",level:5},{value:"input_range",id:"input_range",level:5},{value:"output",id:"output",level:5},{value:"output_hex",id:"output_hex",level:5},{value:"index",id:"index",level:5},{value:"data",id:"data",level:5},{value:"parents",id:"parents",level:5},{value:"Return",id:"return-1",level:4},{value:"Implementation Details",id:"implementation-details",level:4},{value:"get_message()",id:"get_message",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"message_id",id:"message_id",level:5},{value:"index",id:"index-1",level:5},{value:"Returns",id:"returns",level:4},{value:"find_messages()",id:"find_messages",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"indexation_keys",id:"indexation_keys",level:5},{value:"message_ids",id:"message_ids",level:5},{value:"Returns",id:"returns-1",level:4},{value:"get_unspent_address()",id:"get_unspent_address",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"seed",id:"seed-1",level:5},{value:"account_index",id:"account_index-1",level:5},{value:"initial_address_index",id:"initial_address_index-1",level:5},{value:"Return",id:"return-2",level:4},{value:"Implementation Details",id:"implementation-details-1",level:4},{value:"get_addresses()",id:"get_addresses",level:3},{value:"Parameters",id:"parameters-5",level:4},{value:"seed",id:"seed-2",level:5},{value:"account_index",id:"account_index-2",level:5},{value:"range",id:"range",level:5},{value:"get_all",id:"get_all",level:5},{value:"Return",id:"return-3",level:4},{value:"get_balance()",id:"get_balance",level:3},{value:"Parameters",id:"parameters-6",level:4},{value:"seed",id:"seed-3",level:5},{value:"account_index",id:"account_index-3",level:5},{value:"initial_address_index",id:"initial_address_index-2",level:5},{value:"gap_limit",id:"gap_limit",level:5},{value:"Return",id:"return-4",level:4},{value:"Implementation Details",id:"implementation-details-2",level:4},{value:"get_address_balances()",id:"get_address_balances",level:3},{value:"Parameters",id:"parameters-7",level:4},{value:"addresses",id:"addresses",level:5},{value:"Return",id:"return-5",level:4},{value:"Implementation details:",id:"implementation-details-3",level:4},{value:"generate_mnemonic()",id:"generate_mnemonic",level:3},{value:"Return",id:"return-6",level:4},{value:"mnemonic_to_hex_seed(mnemonic)",id:"mnemonic_to_hex_seedmnemonic",level:3},{value:"Parameters",id:"parameters-8",level:4},{value:"mnemonic",id:"mnemonic",level:5},{value:"Return",id:"return-7",level:4},{value:"bech32_to_hex()",id:"bech32_to_hex",level:3},{value:"Parameters",id:"parameters-9",level:4},{value:"bech32",id:"bech32",level:4},{value:"Return",id:"return-8",level:4},{value:"hex_to_bech32()",id:"hex_to_bech32",level:3},{value:"Parameters",id:"parameters-10",level:4},{value:"hex",id:"hex",level:5},{value:"bech32_hrp",id:"bech32_hrp",level:5},{value:"Return",id:"return-9",level:4},{value:"parse_bech32_address()",id:"parse_bech32_address",level:3},{value:"Parameters",id:"parameters-11",level:4},{value:"address",id:"address",level:5},{value:"Return",id:"return-10",level:4},{value:"is_address_valid()",id:"is_address_valid",level:3},{value:"Parameters",id:"parameters-12",level:4},{value:"address",id:"address-1",level:5},{value:"Return",id:"return-11",level:4},{value:"subscriber()",id:"subscriber",level:3},{value:"Returns",id:"returns-2",level:4},{value:"retry()",id:"retry",level:3},{value:"Parameters",id:"parameters-13",level:4},{value:"message_id",id:"message_id-1",level:5},{value:"Returns",id:"returns-3",level:4},{value:"Implementation Details",id:"implementation-details-4",level:4},{value:"retry_until_included()",id:"retry_until_included",level:3},{value:"Parameters",id:"parameters-14",level:4},{value:"message_id",id:"message_id-2",level:5},{value:"interval",id:"interval",level:5},{value:"max_attempts",id:"max_attempts",level:5},{value:"Returns",id:"returns-4",level:4},{value:"consolidate_funds()",id:"consolidate_funds",level:3},{value:"Parameters",id:"parameters-15",level:4},{value:"seed",id:"seed-4",level:5},{value:"account_index",id:"account_index-4",level:5},{value:"address_range",id:"address_range",level:5},{value:"Returns",id:"returns-5",level:4},{value:"reattach()",id:"reattach",level:3},{value:"Parameters",id:"parameters-16",level:4},{value:"message_id",id:"message_id-3",level:5},{value:"Returns",id:"returns-6",level:4},{value:"promote()",id:"promote",level:3},{value:"Parameters",id:"parameters-17",level:4},{value:"message_id",id:"message_id-4",level:4},{value:"Returns",id:"returns-7",level:4},{value:"Full Node API",id:"full-node-api",level:2},{value:"get_health()",id:"get_health",level:3},{value:"Parameters",id:"parameters-18",level:4},{value:"Returns",id:"returns-8",level:4},{value:"get_peers()",id:"get_peers",level:3},{value:"Parameters",id:"parameters-19",level:4},{value:"Returns",id:"returns-9",level:4},{value:"get_info()",id:"get_info",level:3},{value:"Parameters",id:"parameters-20",level:4},{value:"Returns",id:"returns-10",level:4},{value:"get_tips()",id:"get_tips",level:3},{value:"Parameters",id:"parameters-21",level:4},{value:"Returns",id:"returns-11",level:4},{value:"post_message()",id:"post_message",level:3},{value:"Parameters",id:"parameters-22",level:4},{value:"message",id:"message-1",level:5},{value:"Returns",id:"returns-12",level:4},{value:"get_output()",id:"get_output",level:3},{value:"Parameters",id:"parameters-23",level:4},{value:"output_id",id:"output_id",level:5},{value:"Returns",id:"returns-13",level:4},{value:"get_address()",id:"get_address",level:3},{value:"Parameters",id:"parameters-24",level:4},{value:"address",id:"address-2",level:5},{value:"Returns",id:"returns-14",level:4},{value:"find_outputs()",id:"find_outputs",level:3},{value:"Parameters",id:"parameters-25",level:4},{value:"output_id",id:"output_id-1",level:5},{value:"addresses",id:"addresses-1",level:5},{value:"Returns",id:"returns-15",level:4},{value:"get_milestone()",id:"get_milestone",level:3},{value:"Parameters",id:"parameters-26",level:4},{value:"index",id:"index-2",level:5},{value:"Returns",id:"returns-16",level:4},{value:"get_milestone_utxo_changes()",id:"get_milestone_utxo_changes",level:3},{value:"Parameters",id:"parameters-27",level:4},{value:"index",id:"index-3",level:5},{value:"Returns",id:"returns-17",level:4},{value:"get_receipts()",id:"get_receipts",level:3},{value:"Returns",id:"returns-18",level:4},{value:"get_receipts_migrated_at()",id:"get_receipts_migrated_at",level:3},{value:"Returns",id:"returns-19",level:4},{value:"get_treasury()",id:"get_treasury",level:3},{value:"Returns",id:"returns-20",level:4},{value:"get_included_message()",id:"get_included_message",level:3},{value:"Parameters",id:"parameters-28",level:4},{value:"transaction_id",id:"transaction_id",level:5},{value:"Returns",id:"returns-21",level:4},{value:"Objects",id:"objects",level:2},{value:"Address",id:"address-3",level:3},{value:"AddressBalancePair",id:"addressbalancepair",level:3},{value:"Api",id:"api",level:3},{value:"BrokerOptions",id:"brokeroptions",level:3},{value:"Message",id:"message-2",level:3},{value:"MessageId",id:"messageid",level:3},{value:"MessageMetadata",id:"messagemetadata",level:3},{value:"Milestone",id:"milestone",level:3},{value:"OutputMetadata",id:"outputmetadata",level:3},{value:"Seed",id:"seed-5",level:3},{value:"Topic",id:"topic",level:3}],k=(n="String",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",e)}),h={toc:m};function g(e){var t=e.components,a=(0,r.Z)(e,d);return(0,i.kt)("wrapper",(0,l.Z)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"high-level-api-specification"},"High Level API Specification"),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"This document specifies a user-friendly API used in the client libraries. The main implementation is in Rust, which will\nreceive automatically compiled client libraries in other languages via C or WebAssembly bindings. There are many crates\nto support developers who want to create foreign function interfaces with native bindings."),(0,i.kt)("h2",{id:"builder"},"Builder"),(0,i.kt)("p",null,"The data structure to initialize the instance of the Higher level client library. It is always called first when\nstarting a new interaction with the library."),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"This is the standard approach to do initialization in Rust. Different languages might use different methods, such as\ndirectly calling an initialization function."))),(0,i.kt)("h3",{id:"parameters"},"Parameters"),(0,i.kt)("h4",{id:"network"},"network"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"devnet"),(0,i.kt)("td",{parentName:"tr",align:null},"&str"),(0,i.kt)("td",{parentName:"tr",align:null},'Optional, the network type can be "devnet" or "mainnet". If you don not provide a node url is provided, default nodes will be used for the specified network. Nodes that are not in this network will be ignored.')))),(0,i.kt)("h4",{id:"node"},"node"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"&str"),(0,i.kt)("td",{parentName:"tr",align:null},"The URL of the node you want to connect to; format: ",(0,i.kt)("inlineCode",{parentName:"td"},"https://node:port"))))),(0,i.kt)("h4",{id:"primary_node"},"primary_node"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"&str, auth_name_pwd: Option<(&str, &str)>"),(0,i.kt)("td",{parentName:"tr",align:null},"The URL of a node to always you want to connect to first, if multiple nodes are available. ",(0,i.kt)("br",null),"(optional) You can use a JWT and or name and password for basic authentication; format: ",(0,i.kt)("inlineCode",{parentName:"td"},"https://node:port"),', Some("JWT"), Some("name", "password")')))),(0,i.kt)("h4",{id:"primary_pow_node"},"primary_pow_node"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"&str, auth_name_pwd: Option<(&str, &str)>"),(0,i.kt)("td",{parentName:"tr",align:null},"The URL of a node to always you want to connect to first when submitting a message with remote PoW, if multiple nodes are available.  This will override primary_node in that case**. ",(0,i.kt)("br",null),"(optional) You can use a JWT or name and password for basic authentication; format: ",(0,i.kt)("inlineCode",{parentName:"td"},"https://node:port"),', Some("JWT"), Some("name", "password")')))),(0,i.kt)("h4",{id:"permanode"},"permanode"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"&str, auth_name_pwd: Option<(&str, &str)>"),(0,i.kt)("td",{parentName:"tr",align:null},"The URL of a permanode. ",(0,i.kt)("br",null),"(optional) You can use a JWT or name and password for basic authentication; format: ",(0,i.kt)("inlineCode",{parentName:"td"},"https://node:port"),', Some("JWT"), Some("name", "password")')))),(0,i.kt)("h4",{id:"node_auth"},"node_auth"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"&str, Option",(0,i.kt)(k,{mdxType:"String"}),", Option<(&str, &str)>"),(0,i.kt)("td",{parentName:"tr",align:null},"The URL of a node to connect to with. ",(0,i.kt)("br",null),"(optional)You can use a  JWT and or name and password for basic authentication; format: ",(0,i.kt)("inlineCode",{parentName:"td"},"https://node:port"),', Some("JWT"), Some("name", "password")')))),(0,i.kt)("h4",{id:"nodes"},"nodes"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"&","[&str]"),(0,i.kt)("td",{parentName:"tr",align:null},"A list of nodes to connect to. You can add nodes are using the ",(0,i.kt)("inlineCode",{parentName:"td"},"https://node:port")," format.",(0,i.kt)("br",null)," The amount of nodes specified in quorum_size is randomly selected from this node list to check for quorum based on the quorum threshold.",(0,i.kt)("br",null)," If quorum_size is not given the full list of nodes is checked.")))),(0,i.kt)("h4",{id:"node_sync_interval"},"node_sync_interval"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"Duration::from_secs(60)"),(0,i.kt)("td",{parentName:"tr",align:null},"std::time::Duration"),(0,i.kt)("td",{parentName:"tr",align:null},"The interval in milliseconds to check for node health and sync.")))),(0,i.kt)("h4",{id:"node_sync_disabled"},"node_sync_disabled"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"false"),(0,i.kt)("td",{parentName:"tr",align:null},"bool"),(0,i.kt)("td",{parentName:"tr",align:null},"If disabled unhealthy nodes will also be used.")))),(0,i.kt)("h4",{id:"node_pool_urls"},"node_pool_urls"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"&","[String]"),(0,i.kt)("td",{parentName:"tr",align:null},"A list of node_pool_urls from which nodes are added. ",(0,i.kt)("br",null),"The amount of nodes specified in quorum_size is randomly selected from this node list to check for quorum based on the quorum threshold. ",(0,i.kt)("br",null),"If quorum_size is not given the full list of nodes is checked.")))),(0,i.kt)("h4",{id:"quorum"},"quorum"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"false"),(0,i.kt)("td",{parentName:"tr",align:null},"bool"),(0,i.kt)("td",{parentName:"tr",align:null},"Defines if quorum should be used for the requests")))),(0,i.kt)("h5",{id:"quorum_size"},"quorum_size"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"3"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"Defines how many nodes should be used for quorum")))),(0,i.kt)("h4",{id:"quorum_threshold"},"quorum_threshold"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"66"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"Defines the % of nodes that need to return the same response to accept it")))),(0,i.kt)("h4",{id:"request_timeout"},"request_timeout"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"Duration::from_secs(30)"),(0,i.kt)("td",{parentName:"tr",align:null},"std::time::Duration"),(0,i.kt)("td",{parentName:"tr",align:null},"The amount of seconds a request can be outstanding to a node before it is considered timed out")))),(0,i.kt)("h4",{id:"api_timeout"},"api_timeout"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"Api::GetInfo: Duration::from_secs(2)), ",(0,i.kt)("br",null),"Api::GetHealth: Duration::from_secs(2),",(0,i.kt)("br",null),"Api::GetPeers: Duration::from_secs(2), ",(0,i.kt)("br",null),"Api::GetMilestone: Duration::from_secs(2),",(0,i.kt)("br",null),"Api::GetTips: Duration::from_secs(2), ",(0,i.kt)("br",null),"Api::PostMessage: Duration::from_secs(2),",(0,i.kt)("br",null),"Api::PostMessageWithRemotePow: Duration::from_secs(30),",(0,i.kt)("br",null),"Api::GetOutput: Duration::from_secs(2)"),(0,i.kt)("td",{parentName:"tr",align:null},"HashMap<","[Api]",",",(0,i.kt)("br",null)," std::time::Duration>"),(0,i.kt)("td",{parentName:"tr",align:null},"The amount of milliseconds a request to a specific API endpoint can be outstanding to a node before it is considered timed out.")))),(0,i.kt)("h5",{id:"local_pow"},"local_pow"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"True"),(0,i.kt)("td",{parentName:"tr",align:null},"bool"),(0,i.kt)("td",{parentName:"tr",align:null},"If not defined it defaults to local PoW to offload node load times")))),(0,i.kt)("h4",{id:"tips_interval"},"tips_interval"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"15"),(0,i.kt)("td",{parentName:"tr",align:null},"u64"),(0,i.kt)("td",{parentName:"tr",align:null},"Time interval during PoW when new tips get requested.")))),(0,i.kt)("h5",{id:"mqtt_broker_options"},"mqtt_broker_options"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"True,",(0,i.kt)("br",null),"Duration::from_secs(30),",(0,i.kt)("br",null),"True"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#BrokerOptions"},"BrokerOptions")),(0,i.kt)("td",{parentName:"tr",align:null},"If not defined the default values will be used")))),(0,i.kt)("p",null,"::: note"),(0,i.kt)("p",null,"There must be at least one node to build the instance successfully."),(0,i.kt)("p",null,":::"),(0,i.kt)("h3",{id:"return"},"Return"),(0,i.kt)("p",null,"If you finalize the builder with ",(0,i.kt)("inlineCode",{parentName:"p"},"finish()")," it will run the instance in the background. You do not need to worry about\nhandling the return object."),(0,i.kt)("h2",{id:"on-initialization"},"On Initialization"),(0,i.kt)("p",null,"On initialisation, calls the getNodeInfo API. This will check the health of each node in the node list, and put the\nhealthy nodes, which match the PoW settings and network in a synced ",(0,i.kt)("inlineCode",{parentName:"p"},"nodelist"),"."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Node metadata"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"network"),(0,i.kt)("td",{parentName:"tr",align:null},"If this parameter does not match the global builder parameter, you should not add it to the synced nodelist.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"pow"),(0,i.kt)("td",{parentName:"tr",align:null},"If the global local_pow parameter is set to false, then you should only use nodes with the PoW feature in the synced nodelist.")))),(0,i.kt)("h2",{id:"sync-process"},"Sync Process"),(0,i.kt)("p",null,"When you build ",(0,i.kt)("inlineCode",{parentName:"p"},"Client")," instance (The instance used for calling the client APIs), the status of each listed node will be\nchecked. If the returned status of the node information is healthy, which means the node is synced, then this node will\nbe pushed into a ",(0,i.kt)("inlineCode",{parentName:"p"},"synced_nodes")," list. The rust-like pseudocode of the ",(0,i.kt)("inlineCode",{parentName:"p"},"synced_nodes")," construction process follows. The\nnode syncing process is repeated every 60 seconds by default. You can change this number by specifying the\ninitializer's ",(0,i.kt)("inlineCode",{parentName:"p"},"node_sync_interval")," argument."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},"synced_nodes = Vec::new()\nfor node in node_pool_urls{\n   status = Client.get_info(node).await?;\n   if status == healthy{\n      synced_nodes.push(node)\n   }\n}\n")),(0,i.kt)("h2",{id:"general-high-level-api"},"General High Level API"),(0,i.kt)("p",null,"Here is the high level abstraction API collection with sensible default values for users easy to use."),(0,i.kt)("h3",{id:"message"},"message()"),(0,i.kt)("p",null,"A generic send function you can use to easily send a message."),(0,i.kt)("h4",{id:"parameters-1"},"Parameters"),(0,i.kt)("p",null,"Depending on the provided values this function will create a message with:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"No payload."),(0,i.kt)("li",{parentName:"ul"},"An indexation payload."),(0,i.kt)("li",{parentName:"ul"},"A transaction payload."),(0,i.kt)("li",{parentName:"ul"},"A transaction payload containing an indexation payload.")),(0,i.kt)("h5",{id:"seed"},"seed"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#seed-2"},"Seed"),"(#seed-1)"),(0,i.kt)("td",{parentName:"tr",align:null},"The seed of the account you are going to spend from. Only needed for transactions")))),(0,i.kt)("h5",{id:"account_index"},"account_index"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"The account index responsible for the value ",(0,i.kt)("inlineCode",{parentName:"td"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"td"},"m/44'/4218'/\u2718'/0'/0'"),".")))),(0,i.kt)("h5",{id:"initial_address_index"},"initial_address_index"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"The index from where to start looking for balance. Responsible for the value ",(0,i.kt)("inlineCode",{parentName:"td"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"td"},"m/44'/4218'/0'/0'/\u2718'"),".")))),(0,i.kt)("h5",{id:"input"},"input"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"UtxoInput"),(0,i.kt)("td",{parentName:"tr",align:null},"Users can manually select their UtxoInputs, instead of having automatically selected inputs.")))),(0,i.kt)("h5",{id:"input_range"},"input_range"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"0..100"),(0,i.kt)("td",{parentName:"tr",align:null},"Range"),(0,i.kt)("td",{parentName:"tr",align:null},"If custom inputs are provided, this custom range will be used to search for the input addresses.")))),(0,i.kt)("h5",{id:"output"},"output"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"address: &","[String]",",",(0,i.kt)("br",null),"amount: u64"),(0,i.kt)("td",{parentName:"tr",align:null},"Address you want to send to and amount to send. The address needs to be Bech32 encoded.")))),(0,i.kt)("h5",{id:"output_hex"},"output_hex"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"address: &str,",(0,i.kt)("br",null),"amount: u64"),(0,i.kt)("td",{parentName:"tr",align:null},"Address you want to send to and amount to send. The address needs to be hex encoded.")))),(0,i.kt)("h5",{id:"index"},"index"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"&","[u8]"," / &str"),(0,i.kt)("td",{parentName:"tr",align:null},"An optional indexation key for an indexation payload. 1-64 bytes long.")))),(0,i.kt)("h5",{id:"data"},"data"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"Vec","<","u8>"),(0,i.kt)("td",{parentName:"tr",align:null},"Optional data for the indexation payload.")))),(0,i.kt)("h5",{id:"parents"},"parents"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#messageid"},"MessageId")),(0,i.kt)("td",{parentName:"tr",align:null},"1-8 optional parents ",(0,i.kt)("a",{parentName:"td",href:"#messageid"},"messageId"),"to be used.")))),(0,i.kt)("h4",{id:"return-1"},"Return"),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"#message-1"},"Message")," object we build."),(0,i.kt)("h4",{id:"implementation-details"},"Implementation Details"),(0,i.kt)("p",null,"When implementing this function please make sure that you:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Validate inputs, such as address and seed to check that they are correct."),(0,i.kt)("li",{parentName:"ul"},"Check if the account balance is bigger or equal to the value using method similar to ",(0,i.kt)("a",{parentName:"li",href:"#get_balance"},(0,i.kt)("inlineCode",{parentName:"a"},"get_balance()")),"."),(0,i.kt)("li",{parentName:"ul"},"Build and validate the message with signed transaction payload accordingly."),(0,i.kt)("li",{parentName:"ul"},"Get tips using the ",(0,i.kt)("a",{parentName:"li",href:"#get_tips"},(0,i.kt)("inlineCode",{parentName:"a"},"get_tips()"))," method."),(0,i.kt)("li",{parentName:"ul"},"Perform proof-of-work locally (if not set to remote)."),(0,i.kt)("li",{parentName:"ul"},"Send the message using the ",(0,i.kt)("a",{parentName:"li",href:"#post_messages"},(0,i.kt)("inlineCode",{parentName:"a"},"post_messages()"))," method.")),(0,i.kt)("h3",{id:"get_message"},"get_message()"),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /api/v1/messages"),")"),(0,i.kt)("p",null,"Endpoint collection of all GET messages."),(0,i.kt)("h4",{id:"parameters-2"},"Parameters"),(0,i.kt)("h5",{id:"message_id"},"message_id"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#messageid"},"messageId")),(0,i.kt)("td",{parentName:"tr",align:null},"The message's identifier.")))),(0,i.kt)("h5",{id:"index-1"},"index"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"&","[u8]"," / &str"),(0,i.kt)("td",{parentName:"tr",align:null},"An indexation key.")))),(0,i.kt)("h4",{id:"returns"},"Returns"),(0,i.kt)("p",null,"Depending on the final calling method, users cam get different results according to their needs:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"metadata(&MessageId)"),": Returns ",(0,i.kt)("a",{parentName:"li",href:"#messagemetadata"},"MessageMetadata")," of the message."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"data(&MessageId)"),": Returns a ",(0,i.kt)("a",{parentName:"li",href:"#message-1"},"Message")," object."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"raw(&MessageId)"),": Returns the raw data of given message."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"children(&MessageId)"),": Returns the list of ",(0,i.kt)("a",{parentName:"li",href:"#messageid"},"MessageId"),"s that reference a message by its identifier."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"index(&[u8] | &str)")," : Returns the list of ",(0,i.kt)("a",{parentName:"li",href:"#messageid"},"MessageId"),"s that have this str as indexation key")),(0,i.kt)("h3",{id:"find_messages"},"find_messages()"),(0,i.kt)("p",null,"Find all messages using the provided message IDs."),(0,i.kt)("h4",{id:"parameters-3"},"Parameters"),(0,i.kt)("h5",{id:"indexation_keys"},"indexation_keys"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"[&","[u8]"," / &str]"),(0,i.kt)("td",{parentName:"tr",align:null},"The index key of the indexation payload.")))),(0,i.kt)("h5",{id:"message_ids"},"message_ids"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#messageid"},"MessageId")),(0,i.kt)("td",{parentName:"tr",align:null},"The message's identifier.")))),(0,i.kt)("h4",{id:"returns-1"},"Returns"),(0,i.kt)("p",null,"A vector of ",(0,i.kt)("a",{parentName:"p",href:"#message-1"},"Message")," Object."),(0,i.kt)("h3",{id:"get_unspent_address"},"get_unspent_address()"),(0,i.kt)("p",null,"Return a valid unspent public Bech32 encoded address."),(0,i.kt)("h4",{id:"parameters-4"},"Parameters"),(0,i.kt)("h5",{id:"seed-1"},"seed"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#seed-2"},"Seed")),(0,i.kt)("td",{parentName:"tr",align:null},"The seed we want to use.")))),(0,i.kt)("h5",{id:"account_index-1"},"account_index"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"The account index.",(0,i.kt)("br",null),"Responsible for the value ",(0,i.kt)("inlineCode",{parentName:"td"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"td"},"m/44'/4218'/\u2718'/0'/0'"),".")))),(0,i.kt)("h5",{id:"initial_address_index-1"},"initial_address_index"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"Start index of the addresses to search.",(0,i.kt)("br",null)," Responsible for the value ",(0,i.kt)("inlineCode",{parentName:"td"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"td"},"m/44'/4218'/0'/0'/\u2718'"),".")))),(0,i.kt)("h4",{id:"return-2"},"Return"),(0,i.kt)("p",null,"Return a tuple with type of ",(0,i.kt)("inlineCode",{parentName:"p"},"(String, usize)")," as the address and corresponding index in the account."),(0,i.kt)("h4",{id:"implementation-details-1"},"Implementation Details"),(0,i.kt)("p",null,"Please make sure that you follow these steps when implementing this method:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Start by generating addresses with given account index and starting index. We have a\ndefault ",(0,i.kt)("a",{parentName:"li",href:"https://blog.blockonomics.co/bitcoin-what-is-this-gap-limit-4f098e52d7e1"},"gap limit")," of 20 at a time."),(0,i.kt)("li",{parentName:"ul"},"Check for balances on the generated addresses using the ",(0,i.kt)("a",{parentName:"li",href:"#find_outputs"},"find_outputs()")," method and keep track of the\npositive balances."),(0,i.kt)("li",{parentName:"ul"},"Repeat the above step until you find an unspent address."),(0,i.kt)("li",{parentName:"ul"},"Return the address with corresponding index on the wallet chain.")),(0,i.kt)("h3",{id:"get_addresses"},"get_addresses()"),(0,i.kt)("p",null,"Returns a list of addresses from the seed regardless of their validity."),(0,i.kt)("h4",{id:"parameters-5"},"Parameters"),(0,i.kt)("h5",{id:"seed-2"},"seed"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#seed-2"},"Seed")),(0,i.kt)("td",{parentName:"tr",align:null},"The seed you want to search for.")))),(0,i.kt)("h5",{id:"account_index-2"},"account_index"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"The account index.",(0,i.kt)("br",null),"Responsible for the value ",(0,i.kt)("inlineCode",{parentName:"td"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"td"},"m/44'/4218'/\u2718'/0'/0'"),".")))),(0,i.kt)("h5",{id:"range"},"range"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"std::ops::Range"),(0,i.kt)("td",{parentName:"tr",align:null},"Range indices of the addresses you want to search for. Default is (0..20)")))),(0,i.kt)("h5",{id:"get_all"},"get_all"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"Get public and ",(0,i.kt)("a",{parentName:"td",href:"https://bitcoin.stackexchange.com/questions/75033/bip44-and-change-addresses"},"change addresses"),". ",(0,i.kt)("br",null),"Will return Vec<(","[String]",", bool)>, where the bool is indicating whether it is a change address")))),(0,i.kt)("h4",{id:"return-3"},"Return"),(0,i.kt)("p",null,"A Vec<","[String]",">, with the public addresses"),(0,i.kt)("h3",{id:"get_balance"},"get_balance()"),(0,i.kt)("p",null,"Returns the balance for a provided seed and its wallet account index."),(0,i.kt)("h4",{id:"parameters-6"},"Parameters"),(0,i.kt)("h5",{id:"seed-3"},"seed"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#seed-2"},"Seed")),(0,i.kt)("td",{parentName:"tr",align:null},"The seed you want to search for.")))),(0,i.kt)("h5",{id:"account_index-3"},"account_index"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"The account index. ",(0,i.kt)("br",null),"Responsible for the value ",(0,i.kt)("inlineCode",{parentName:"td"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"td"},"m/44'/4218'/\u2718'/0'/0'"),".")))),(0,i.kt)("h5",{id:"initial_address_index-2"},"initial_address_index"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"Start index from which to generate addresses. The default valu is 0. ",(0,i.kt)("br",null),"Responsible for the value ",(0,i.kt)("inlineCode",{parentName:"td"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"td"},"m/44'/4218'/0'/0'/\u2718'"),".")))),(0,i.kt)("h5",{id:"gap_limit"},"gap_limit"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"20"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"The gap limit specifies how many addresses will be checked each round. ",(0,i.kt)("br",null),"If gap_limit amount of addresses in a row have no balance the function will return.")))),(0,i.kt)("h4",{id:"return-4"},"Return"),(0,i.kt)("p",null,"Total account balance."),(0,i.kt)("h4",{id:"implementation-details-2"},"Implementation Details"),(0,i.kt)("p",null,"Please make sure to follow these steps when you are implementing this method:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Start by generating addresses with given wallet account index and starting index. You will have a\ndefault ",(0,i.kt)("a",{parentName:"li",href:"https://blog.blockonomics.co/bitcoin-what-is-this-gap-limit-4f098e52d7e1"},"gap limit")," of 20 at a time."),(0,i.kt)("li",{parentName:"ul"},"Check for balances on the generated addresses using the ",(0,i.kt)("a",{parentName:"li",href:"#find_outputs"},(0,i.kt)("inlineCode",{parentName:"a"},"find_outputs()"))," method and keep track of the\npositive balances."),(0,i.kt)("li",{parentName:"ul"},"Repeat the step above until you find an address with zero balance;"),(0,i.kt)("li",{parentName:"ul"},"Accumulate the positive balances and return the result.")),(0,i.kt)("h3",{id:"get_address_balances"},"get_address_balances()"),(0,i.kt)("p",null,"Return the balance in iota for the given addresses. You do not need a seed or security level to do this since you are\nonly checking and already know the addresses."),(0,i.kt)("h4",{id:"parameters-7"},"Parameters"),(0,i.kt)("h5",{id:"addresses"},"addresses"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[","[String]","]"),(0,i.kt)("td",{parentName:"tr",align:null},"List of Bech32 encoded addresses.")))),(0,i.kt)("h4",{id:"return-5"},"Return"),(0,i.kt)("p",null,"A list of tuples with value of ",(0,i.kt)("a",{parentName:"p",href:"#addressbalancepair"},"AddressBalancePair"),". The usize is the balance of the address."),(0,i.kt)("h4",{id:"implementation-details-3"},"Implementation details:"),(0,i.kt)("p",null,"Please make sure to follow these steps when implementing this method:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Validate the ",(0,i.kt)("em",{parentName:"li"},"address")," semantics."),(0,i.kt)("li",{parentName:"ul"},"Get the latest balance for the provided address using the ",(0,i.kt)("a",{parentName:"li",href:"#find_outputs"},(0,i.kt)("inlineCode",{parentName:"a"},"find_outputs()"))," method with the addresses\nas parameter."),(0,i.kt)("li",{parentName:"ul"},"Return the list of Output which contains corresponding pairs of addresses and balances.")),(0,i.kt)("h3",{id:"generate_mnemonic"},"generate_mnemonic()"),(0,i.kt)("p",null,"Returns a random generated Bip39 mnemonic with words from the English word list."),(0,i.kt)("h4",{id:"return-6"},"Return"),(0,i.kt)("p",null,"Parsed ","[String]","."),(0,i.kt)("h3",{id:"mnemonic_to_hex_seedmnemonic"},"mnemonic_to_hex_seed(mnemonic)"),(0,i.kt)("p",null,"Returns the hex encoded seed."),(0,i.kt)("h4",{id:"parameters-8"},"Parameters"),(0,i.kt)("h5",{id:"mnemonic"},"mnemonic"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[String]"),(0,i.kt)("td",{parentName:"tr",align:null},"A Bip39 mnemonic with words from the English word list.")))),(0,i.kt)("h4",{id:"return-7"},"Return"),(0,i.kt)("p",null,"Parsed ","[String]","."),(0,i.kt)("h3",{id:"bech32_to_hex"},"bech32_to_hex()"),(0,i.kt)("p",null,"Returns a parsed hex String from bech32."),(0,i.kt)("h4",{id:"parameters-9"},"Parameters"),(0,i.kt)("h4",{id:"bech32"},"bech32"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[String]"),(0,i.kt)("td",{parentName:"tr",align:null},"Bech32 encoded address.")))),(0,i.kt)("h4",{id:"return-8"},"Return"),(0,i.kt)("p",null,"Parsed ","[String]","."),(0,i.kt)("h3",{id:"hex_to_bech32"},"hex_to_bech32()"),(0,i.kt)("p",null,"Returns a parsed bech32 String from hex."),(0,i.kt)("h4",{id:"parameters-10"},"Parameters"),(0,i.kt)("h5",{id:"hex"},"hex"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[String]"),(0,i.kt)("td",{parentName:"tr",align:null},"Hex encoded address.")))),(0,i.kt)("h5",{id:"bech32_hrp"},"bech32_hrp"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[Option",(0,i.kt)(k,{mdxType:"String"}),"]"),(0,i.kt)("td",{parentName:"tr",align:null},"Optional bech32 hrp.")))),(0,i.kt)("h4",{id:"return-9"},"Return"),(0,i.kt)("p",null,"A parsed ","[String]","."),(0,i.kt)("h3",{id:"parse_bech32_address"},"parse_bech32_address()"),(0,i.kt)("p",null,"Returns a valid ",(0,i.kt)("a",{parentName:"p",href:"#address"},"Address")," parsed from a String."),(0,i.kt)("h4",{id:"parameters-11"},"Parameters"),(0,i.kt)("h5",{id:"address"},"address"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[String]"),(0,i.kt)("td",{parentName:"tr",align:null},"Bech32 encoded address.")))),(0,i.kt)("h4",{id:"return-10"},"Return"),(0,i.kt)("p",null,"A parsed ","[Address]","."),(0,i.kt)("h3",{id:"is_address_valid"},"is_address_valid()"),(0,i.kt)("h4",{id:"parameters-12"},"Parameters"),(0,i.kt)("h5",{id:"address-1"},"address"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[String]"),(0,i.kt)("td",{parentName:"tr",align:null},"Bech32 encoded address.")))),(0,i.kt)("h4",{id:"return-11"},"Return"),(0,i.kt)("p",null,"A boolean showing if the address is valid."),(0,i.kt)("h3",{id:"subscriber"},"subscriber()"),(0,i.kt)("p",null,"Subscribe to a node event ",(0,i.kt)("a",{parentName:"p",href:"#topic"},"Topic"),"(MQTT)."),(0,i.kt)("p",null,"Requires one of:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"topic()"),": Add a new ",(0,i.kt)("a",{parentName:"li",href:"#topic"},"Topic")," to the list."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"topics()"),": Add a vector of ",(0,i.kt)("a",{parentName:"li",href:"#topic"},"Topic")," to the list."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"subscribe()"),": Subscribe to the given topics with the callback, which will be called every time when the topic is\ndetected."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"unsubscribe()"),": Unsubscribes from all subscriptions."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"disconnect()"),": Disconnects the broker. This will clear the stored topic handlers and close the MQTT connection.")),(0,i.kt)("h4",{id:"returns-2"},"Returns"),(0,i.kt)("p",null,"An ",(0,i.kt)("inlineCode",{parentName:"p"},"Ok(())")," result if the call was successful."),(0,i.kt)("h3",{id:"retry"},"retry()"),(0,i.kt)("p",null,"Retries (promotes or reattaches) a message for the provided ",(0,i.kt)("a",{parentName:"p",href:"#messageid"},"messageId")," if the node suggests it. As the\nconfirmation throughput of the node is expected to be quite high, you should not need to use this function often."),(0,i.kt)("h4",{id:"parameters-13"},"Parameters"),(0,i.kt)("h5",{id:"message_id-1"},"message_id"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#messageid"},"messageId")),(0,i.kt)("td",{parentName:"tr",align:null},"The identifier of message.")))),(0,i.kt)("h4",{id:"returns-3"},"Returns"),(0,i.kt)("p",null,"A tuple with the newly promoted or reattached ",(0,i.kt)("inlineCode",{parentName:"p"},"(MessageId, Message)"),"."),(0,i.kt)("h4",{id:"implementation-details-4"},"Implementation Details"),(0,i.kt)("p",null,"Please make sure to follow these steps when implementing this method:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"You should only allow unconfirmed messages to retry. The method will validate the confirmation state of the provided\nmessages. If a message id of a confirmed message is provided, the method will return an error."),(0,i.kt)("li",{parentName:"ul"},"The method will also validate if a retry is necessary. This can be done by leveraging\nthe ",(0,i.kt)("inlineCode",{parentName:"li"},"/messages/{messageId}/metadata")," endpoint (already available through ",(0,i.kt)("a",{parentName:"li",href:"#get_message"},"get_message"),").\nSee ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/iotaledger/trinity-wallet/blob/develop/src/shared/libs/iota/transfers.js#L105-L131"},"this"),"\nimplementation for reference."),(0,i.kt)("li",{parentName:"ul"},"Use ",(0,i.kt)("a",{parentName:"li",href:"#reattach"},"reattach")," or ",(0,i.kt)("a",{parentName:"li",href:"#promote"},"promote")," accordingly.")),(0,i.kt)("h3",{id:"retry_until_included"},"retry_until_included()"),(0,i.kt)("p",null,"Retries (promotes or reattaches) a message for provided ",(0,i.kt)("a",{parentName:"p",href:"#messageid"},"messageId")," until it is included (referenced by a\nmilestone). The default interval is 5 seconds and the max number of attempts is 40. As the confirmation throughput of\nthe node is expected to be quite high, you should not need to use this function often."),(0,i.kt)("h4",{id:"parameters-14"},"Parameters"),(0,i.kt)("h5",{id:"message_id-2"},"message_id"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[&",(0,i.kt)("a",{parentName:"td",href:"#messageid"},"MessageId"),"]"),(0,i.kt)("td",{parentName:"tr",align:null},"The identifier of message.")))),(0,i.kt)("h5",{id:"interval"},"interval"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"Option","<","u64>"),(0,i.kt)("td",{parentName:"tr",align:null},"The interval in which we retry the message.")))),(0,i.kt)("h5",{id:"max_attempts"},"max_attempts"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"Option","<","u64>"),(0,i.kt)("td",{parentName:"tr",align:null},"The maximum of attempts we retry the message.")))),(0,i.kt)("h4",{id:"returns-4"},"Returns"),(0,i.kt)("p",null,"An array of tuples with the newly reattached ",(0,i.kt)("inlineCode",{parentName:"p"},"(MessageId, Message)"),"."),(0,i.kt)("h3",{id:"consolidate_funds"},"consolidate_funds()"),(0,i.kt)("p",null,"You can use this function to consolidate all funds from a range of addresses to the address with the lowest index in\nthat range."),(0,i.kt)("h4",{id:"parameters-15"},"Parameters"),(0,i.kt)("h5",{id:"seed-4"},"seed"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#seed-2"},"Seed")),(0,i.kt)("td",{parentName:"tr",align:null},"The seed you want to search for.")))),(0,i.kt)("h5",{id:"account_index-4"},"account_index"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"The account index.",(0,i.kt)("br",null),"Responsible for the value ",(0,i.kt)("inlineCode",{parentName:"td"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"td"},"m/44'/4218'/\u2718'/0'/0'"),".")))),(0,i.kt)("h5",{id:"address_range"},"address_range"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"Range",(0,i.kt)("usize",null)),(0,i.kt)("td",{parentName:"tr",align:null},"Range from which to generate public and internal addresses from which to consolidate the funds.",(0,i.kt)("br",null),"Responsible for the value ",(0,i.kt)("inlineCode",{parentName:"td"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"td"},"m/44'/4218'/0'/0'/\u2718'"),".")))),(0,i.kt)("h4",{id:"returns-5"},"Returns"),(0,i.kt)("p",null,"The address in which the funds got consolidated."),(0,i.kt)("h3",{id:"reattach"},"reattach()"),(0,i.kt)("p",null,"Depends on ",(0,i.kt)("a",{parentName:"p",href:"#find_messages"},"find_messages"),", ",(0,i.kt)("a",{parentName:"p",href:"#get_message"},"get_message")," and ",(0,i.kt)("a",{parentName:"p",href:"#post_message"},"post_message"),"."),(0,i.kt)("p",null,"Reattaches a message. The method will validate if a reattachment is necessary using the ",(0,i.kt)("a",{parentName:"p",href:"#get_message"},"get_message"),"\nmethod. If a reattachment is not necessary, the method will error out and will not allow unnecessary reattachments."),(0,i.kt)("h4",{id:"parameters-16"},"Parameters"),(0,i.kt)("h5",{id:"message_id-3"},"message_id"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#messageid"},"messageId")),(0,i.kt)("td",{parentName:"tr",align:null},"The identifier of message.")))),(0,i.kt)("h4",{id:"returns-6"},"Returns"),(0,i.kt)("p",null,"A tuple with the newly reattached ",(0,i.kt)("inlineCode",{parentName:"p"},"(MessageId, Message)"),"."),(0,i.kt)("h3",{id:"promote"},"promote()"),(0,i.kt)("p",null,"Depends on ",(0,i.kt)("a",{parentName:"p",href:"#find_messages"},"find_messages"),", ",(0,i.kt)("a",{parentName:"p",href:"#get_message"},"get_message")," and ",(0,i.kt)("a",{parentName:"p",href:"#post_message"},"post_message"),"."),(0,i.kt)("p",null,"Reattaches a message. The method will validate if a reattachment is necessary using the ",(0,i.kt)("a",{parentName:"p",href:"#get_message"},"get_message"),"\nmethod. If a promotion is not necessary, the method will error out and will not allow unnecessary promotions."),(0,i.kt)("h4",{id:"parameters-17"},"Parameters"),(0,i.kt)("h4",{id:"message_id-4"},"message_id"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#messageid"},"messageId")),(0,i.kt)("td",{parentName:"tr",align:null},"The identifier of message.")))),(0,i.kt)("h4",{id:"returns-7"},"Returns"),(0,i.kt)("p",null,"A tuple with the newly promoted ",(0,i.kt)("inlineCode",{parentName:"p"},"(MessageId, Message)"),"."),(0,i.kt)("h2",{id:"full-node-api"},"Full Node API"),(0,i.kt)("p",null,"The full node APIs of ",(0,i.kt)("a",{parentName:"p",href:"https://wiki.iota.org/bee/welcome"},"Bee")," and ",(0,i.kt)("a",{parentName:"p",href:"https://wiki.iota.org/hornet/welcome"},"Hornet")," will\nstill be public. Users who are familiar with these relative low level Restful APIs can still call them directly if they\nare confident in their usage."),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Given that both Bee and Hornet APIs are still in active development, the following items and signatures may change in\nthe future."))),(0,i.kt)("h3",{id:"get_health"},"get_health()"),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /health"),")"),(0,i.kt)("p",null,"Returns the health of the node, which can be used for load-balancing or uptime monitoring."),(0,i.kt)("h4",{id:"parameters-18"},"Parameters"),(0,i.kt)("p",null,"None."),(0,i.kt)("h4",{id:"returns-8"},"Returns"),(0,i.kt)("p",null,"Boolean to indicate if node is healthy."),(0,i.kt)("h3",{id:"get_peers"},"get_peers()"),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /peers"),")"),(0,i.kt)("p",null,"Get information about the peers of the node."),(0,i.kt)("h4",{id:"parameters-19"},"Parameters"),(0,i.kt)("p",null,"None."),(0,i.kt)("h4",{id:"returns-9"},"Returns"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},'pub struct PeerDto {\n    pub id: String,\n    #[serde(rename = "multiAddresses")]\n    pub multi_addresses: Vec<String/>,\n    pub alias: Option<String/>,\n    pub relation: RelationDto,\n    pub connected: bool,\n    pub gossip: Option<GossipDto/>,\n}\n')),(0,i.kt)("h3",{id:"get_info"},"get_info()"),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /api/v1/info"),")"),(0,i.kt)("p",null,"Returns information about the node."),(0,i.kt)("h4",{id:"parameters-20"},"Parameters"),(0,i.kt)("p",null,"None"),(0,i.kt)("h4",{id:"returns-10"},"Returns"),(0,i.kt)("p",null,"A Response Object similar to:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},"pub struct NodeInfoWrapper {\n    pub nodeinfo: NodeInfo,\n    pub url: String,\n}\npub struct NodeInfo {\n    pub name: String,\n    pub version: String,\n    pub is_healthy: bool,\n    pub network_id: String,\n    pub latest_milestone_index: usize,\n    pub min_pow_score: f64,\n    pub messages_per_second: f64,\n    pub referenced_messages_per_second: f64,\n    pub referenced_rate: f64,\n    pub latest_milestone_timestamp: u64,\n    pub confirmed_milestone_index: usize,\n    pub pruning_index: usize,\n    pub features: Vec<String/>,\n}\n")),(0,i.kt)("h3",{id:"get_tips"},"get_tips()"),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /tips"),")"),(0,i.kt)("p",null,"Returns two non-lazy tips. If the node can only provide one tip, tip1 and tip2 will be identical."),(0,i.kt)("h4",{id:"parameters-21"},"Parameters"),(0,i.kt)("p",null,"None."),(0,i.kt)("h4",{id:"returns-11"},"Returns"),(0,i.kt)("p",null,"A tuple with two [",(0,i.kt)("a",{parentName:"p",href:"#messageid"},"MessageId"),"]s:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},"(MessageId, MessageId)\n")),(0,i.kt)("h3",{id:"post_message"},"post_message()"),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"POST /message"),")"),(0,i.kt)("p",null,"Submits a message. The node will take care of any missing fields and attempt to build the message. On success, the\nmessage will be stored in the Tangle. This endpoint will return the identifier of the message."),(0,i.kt)("h4",{id:"parameters-22"},"Parameters"),(0,i.kt)("h5",{id:"message-1"},"message"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#message-1"},"Message")),(0,i.kt)("td",{parentName:"tr",align:null},"The message object.")))),(0,i.kt)("h4",{id:"returns-12"},"Returns"),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"#messageid"},"messageId")," of the message object."),(0,i.kt)("h3",{id:"get_output"},"get_output()"),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /outputs"),")"),(0,i.kt)("p",null,"Get the producer of the output, the corresponding address, amount and spend status of an output. This information can\nonly be retrieved for outputs which are part of a confirmed transaction."),(0,i.kt)("h4",{id:"parameters-23"},"Parameters"),(0,i.kt)("h5",{id:"output_id"},"output_id"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"UtxoInput"),(0,i.kt)("td",{parentName:"tr",align:null},"Identifier of the output.")))),(0,i.kt)("h4",{id:"returns-13"},"Returns"),(0,i.kt)("p",null,"An ",(0,i.kt)("a",{parentName:"p",href:"#OutputMetadata"},"OutputMetadata")," that contains information about the output."),(0,i.kt)("h3",{id:"get_address"},"get_address()"),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /addresses"),")"),(0,i.kt)("h4",{id:"parameters-24"},"Parameters"),(0,i.kt)("h5",{id:"address-2"},"address"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[String]"),(0,i.kt)("td",{parentName:"tr",align:null},"The address to search for.")))),(0,i.kt)("h4",{id:"returns-14"},"Returns"),(0,i.kt)("p",null,"Depending on the final calling method, you can get different outputs you need:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"balance()"),": Returns the confirmed balance of the address."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"outputs([options])"),": Returns the UtxoInput array (transaction IDs with corresponding output index).")),(0,i.kt)("h3",{id:"find_outputs"},"find_outputs()"),(0,i.kt)("p",null,"Find all outputs based on the requests criteria."),(0,i.kt)("h4",{id:"parameters-25"},"Parameters"),(0,i.kt)("h5",{id:"output_id-1"},"output_id"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"[UtxoInput]"),(0,i.kt)("td",{parentName:"tr",align:null},"The identifier of output.")))),(0,i.kt)("h5",{id:"addresses-1"},"addresses"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"[","[String]","]"),(0,i.kt)("td",{parentName:"tr",align:null},"The Bech32 encoded address.")))),(0,i.kt)("h4",{id:"returns-15"},"Returns"),(0,i.kt)("p",null,"A vector of ",(0,i.kt)("a",{parentName:"p",href:"#OutputMetadata"},"OutputMetadata"),"."),(0,i.kt)("h3",{id:"get_milestone"},"get_milestone()"),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /milestones"),")"),(0,i.kt)("p",null,"Get the milestone by the given index."),(0,i.kt)("h4",{id:"parameters-26"},"Parameters"),(0,i.kt)("h5",{id:"index-2"},"index"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"u32"),(0,i.kt)("td",{parentName:"tr",align:null},"Index of the milestone.")))),(0,i.kt)("h4",{id:"returns-16"},"Returns"),(0,i.kt)("p",null,"An [",(0,i.kt)("a",{parentName:"p",href:"#milestone"},"Milestone"),"] object."),(0,i.kt)("h3",{id:"get_milestone_utxo_changes"},"get_milestone_utxo_changes()"),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /milestones/{}/utxo-changes"),")"),(0,i.kt)("p",null,"Get all UTXO changes of a given milestone."),(0,i.kt)("h4",{id:"parameters-27"},"Parameters"),(0,i.kt)("h5",{id:"index-3"},"index"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"u32"),(0,i.kt)("td",{parentName:"tr",align:null},"Index of the milestone.")))),(0,i.kt)("h4",{id:"returns-17"},"Returns"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},"MilestoneUTXOChanges {\n    index: 1,\n    created_outputs: [],\n    consumed_outputs: [],\n}\n")),(0,i.kt)("h3",{id:"get_receipts"},"get_receipts()"),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /receipts"),")"),(0,i.kt)("p",null,"Get all receipts."),(0,i.kt)("h4",{id:"returns-18"},"Returns"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},"Vec<ReceiptDto/>\n")),(0,i.kt)("h3",{id:"get_receipts_migrated_at"},"get_receipts_migrated_at()"),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /receipts/{migratedAt}"),")"),(0,i.kt)("p",null,"Get all receipts for a given milestone index."),(0,i.kt)("h4",{id:"returns-19"},"Returns"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},"Vec<ReceiptDto/>\n")),(0,i.kt)("h3",{id:"get_treasury"},"get_treasury()"),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /treasury"),")"),(0,i.kt)("p",null,"Get the treasury amount."),(0,i.kt)("h4",{id:"returns-20"},"Returns"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},'pub struct TreasuryResponse {\n    #[serde(rename = "milestoneId")]\n    milestone_id: String,\n    amount: u64,\n}\n')),(0,i.kt)("h3",{id:"get_included_message"},"get_included_message()"),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /transactions/{transactionId}/included-message"),")"),(0,i.kt)("p",null,"Get the included message of the transaction."),(0,i.kt)("h4",{id:"parameters-28"},"Parameters"),(0,i.kt)("h5",{id:"transaction_id"},"transaction_id"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"TransactionId"),(0,i.kt)("td",{parentName:"tr",align:null},"The id of the transaction.")))),(0,i.kt)("h4",{id:"returns-21"},"Returns"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},"struct Message {\n    parents: Vec<MessageId/>,\n    payload: Option<Payload/>,\n    nonce: u64,\n}\n")),(0,i.kt)("h2",{id:"objects"},"Objects"),(0,i.kt)("p",null,"The objects used in the ",(0,i.kt)("a",{parentName:"p",href:"#full-node-api"},"API")," aim to provide a secure way to handle certain data structures specified in the IOTA\nstack."),(0,i.kt)("h3",{id:"address-3"},"Address"),(0,i.kt)("p",null,"An Ed25519 address which can be encoded in either Bech32 or Hex. Bech32 is preferred and used in most functions."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},"pub enum Address {\n    Ed25519(Ed25519Address),\n}\n")),(0,i.kt)("h3",{id:"addressbalancepair"},"AddressBalancePair"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},"pub struct AddressBalancePair {\n    /// Address, bech32 encoded\n    pub address: String,\n    /// Balance in the address\n    pub balance: u64,\n    /// If dust is allowed on the address\n    pub dust_allowed: bool,\n}\n")),(0,i.kt)("h3",{id:"api"},"Api"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},"pub enum Api {\n    /// `get_health` API\n    GetHealth,\n    /// `get_info`API\n    GetInfo,\n    /// `get_tips` API\n    GetTips,\n    /// `post_message` API\n    PostMessage,\n    /// `post_message` API with remote pow\n    PostMessageWithRemotePow,\n    /// `get_output` API\n    GetOutput,\n    /// `get_milestone` API\n    GetMilestone,\n}\n")),(0,i.kt)("h3",{id:"brokeroptions"},"BrokerOptions"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},'pub struct BrokerOptions {\n    #[serde(default = "default_broker_automatic_disconnect", rename = "automaticDisconnect")]\n    pub(crate) automatic_disconnect: bool,\n    #[serde(default = "default_broker_timeout")]\n    pub(crate) timeout: std::time::Duration,\n    #[serde(rename = "maxReconnectionAttempts", default)]\n    pub(crate) max_reconnection_attempts: usize,\n}\n')),(0,i.kt)("h3",{id:"message-2"},"Message"),(0,i.kt)("p",null,"The message object returned by various functions. Based on\nthe ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/GalRogozinski/protocol-rfcs/blob/message/text/0017-message/0017-message.md"},"RFC")," for the Message\nobject. The following is a brief overview of how each of the components in a Message type will look like:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},"struct Message {\n    parents: Vec<MessageId/>,\n    payload: Option<Payload/>,\n    nonce: u64,\n}\n\nenum Payload {\n    Transaction(Box<Transaction/>),\n    Milestone(Box<Milestone/>),\n    Indexation(Box<Indexation/>),\n}\n\nstruct Transaction {\n    pub essence: TransactionPayloadEssence,\n    pub unlock_blocks: Vec<UnlockBlock/>,\n}\n\nstruct Milestone {\n    essence: MilestoneEssence,\n    signatures: Vec<Box<[u8]>>,\n}\n\nstruct Indexation {\n    index: String,\n    data: Box<[u8]>,\n}\n\nstruct TransactionPayloadEssence {\n    pub(crate) inputs: Box<[Input]>,\n    pub(crate) outputs: Box<[Output]>,\n    pub(crate) payload: Option<Payload/>,\n}\n\nenum Input {\n    UTXO(UtxoInput(OutputId)),\n}\n\nstruct OutputId {\n    transaction_id: TransactionId,\n    index: u16,\n}\n\nenum Output {\n    SignatureLockedSingle(SignatureLockedSingleOutput),\n}\n\nstruct SignatureLockedSingleOutput {\n    address: Address,\n    amount: u64,\n}\n\nenum UnlockBlock {\n    Signature(SignatureUnlock),\n    Reference(ReferenceUnlock),\n}\n\nenum SignatureUnlock {\n    Ed25519(Ed25519Signature),\n}\n\nstruct Ed25519Signature {\n    public_key: [u8; 32],\n    signature: Box<[u8]>,\n}\n\nstruct ReferenceUnlock(u16);\n")),(0,i.kt)("h3",{id:"messageid"},"MessageId"),(0,i.kt)("p",null,"A 32 bytes array which can represent as hex string."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},"struct MessageId([u8; MESSAGE_ID_LENGTH]);\n")),(0,i.kt)("h3",{id:"messagemetadata"},"MessageMetadata"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},"pub struct MessageMetadata {\n    /// Message ID\n    pub message_id: String,\n    /// Message IDs of parents\n    pub parents: Vec<String/>,\n    /// Solid status\n    pub is_solid: bool,\n    /// Should promote\n    pub should_promote: Option<bool/>,\n    /// Should reattach\n    pub should_reattach: Option<bool/>,\n    /// Referenced by milestone index\n    pub referenced_by_milestone_index: Option<u32>,\n    /// Ledger inclusion state\n    pub ledger_inclusion_state: Option<String/>,\n}\n")),(0,i.kt)("h3",{id:"milestone"},"Milestone"),(0,i.kt)("p",null,"A milestone metadata."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},"pub struct MilestoneMetadata {\n    /// Milestone index\n    pub milestone_index: u32,\n    /// Milestone ID\n    pub message_id: String,\n    /// Timestamp\n    pub timestamp: u64,\n}\n")),(0,i.kt)("h3",{id:"outputmetadata"},"OutputMetadata"),(0,i.kt)("p",null,"The metadata of an output."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},"pub struct OutputMetadata {\n    /// Message ID of the output\n    pub message_id: Vec<u8>,\n    /// Transaction ID of the output\n    pub transaction_id: Vec<u8>,\n    /// Output index.\n    pub output_index: u16,\n    /// Spend status of the output\n    pub is_spent: bool,\n    /// Corresponding address\n    pub address: Address,\n    /// Balance amount\n    pub amount: u64,\n}\n")),(0,i.kt)("h3",{id:"seed-5"},"Seed"),(0,i.kt)("p",null,"An IOTA seed with its inner structure omitted. You can create this type by passing a String. It will verify and return\nan error if it is not valid."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},"pub enum Seed {\n    /// Ed25519 variant\n    Ed25519(Ed25519Seed)\n}\n")),(0,i.kt)("h3",{id:"topic"},"Topic"),(0,i.kt)("p",null,"A string with the exact MQTT topic to monitor. It can have one of the following variations:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"milestones/latest\nmilestones/confirmed\n\nmessages\nmessages/referenced\nmessages/indexation/{index}\nmessages/{messageId}/metadata\ntransactions/{transactionId}/included-message\n\noutputs/{outputId}\n\naddresses/{address}/outputs\naddresses/ed25519/{address}/outputs\n")))}g.isMDXComponent=!0},3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return k}});var n=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=n.createContext({}),u=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},o={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,p=d(e,["components","mdxType","originalType","parentName"]),m=u(a),k=l,h=m["".concat(s,".").concat(k)]||m[k]||o[k]||r;return a?n.createElement(h,i(i({ref:t},p),{},{components:a})):n.createElement(h,i({ref:t},p))}));function k(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,i=new Array(r);i[0]=m;var d={};for(var s in t)hasOwnProperty.call(t,s)&&(d[s]=t[s]);d.originalType=e,d.mdxType="string"==typeof e?e:l,i[1]=d;for(var u=2;u<r;u++)i[u]=a[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"}}]);